import { Json, UploadThingError, RouteOptions, FileRouterInputConfig } from '@uploadthing/shared';
import { AdapterFnArgs, UploadBuilder, UnsetMarker } from './types.js';

type CreateBuilderOptions<TErrorShape extends Json> = {
    errorFormatter: (err: UploadThingError) => TErrorShape;
};
declare function createBuilder<TAdapterFnArgs extends AdapterFnArgs<any, any, any>, TErrorShape extends Json = {
    message: string;
}>(opts?: CreateBuilderOptions<TErrorShape>): <TRouteOptions extends RouteOptions>(input: FileRouterInputConfig, config?: TRouteOptions) => UploadBuilder<{
    _routeOptions: TRouteOptions;
    _input: {
        in: UnsetMarker;
        out: UnsetMarker;
    };
    _metadata: UnsetMarker;
    _adapterFnArgs: TAdapterFnArgs;
    _errorShape: TErrorShape;
    _errorFn: UnsetMarker;
    _output: UnsetMarker;
}>;

export { type CreateBuilderOptions, createBuilder };
